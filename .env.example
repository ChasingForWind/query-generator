# 查询生成器项目环境变量配置
# 复制此文件为 .env 并根据实际情况修改配置

# ============================================
# 端口配置
# ============================================
# 前端HTTP端口（默认80，需要root权限，或使用8080等）
FRONTEND_PORT_HTTP=80

# 前端HTTPS端口（默认443，需要root权限）
# 如果不需要HTTPS，可以忽略此配置
FRONTEND_PORT_HTTPS=443

# 后端API端口（默认5000，通常不需要直接暴露）
# 前端通过nginx代理访问后端，此端口主要用于调试
BACKEND_PORT=5000

# ============================================
# 应用配置
# ============================================
# Flask环境（production/development）
FLASK_ENV=production

# Flask调试模式（生产环境应为false）
FLASK_DEBUG=false

# Flask监听地址
FLASK_HOST=0.0.0.0

# Flask端口
FLASK_PORT=5000

# 日志级别（DEBUG/INFO/WARNING/ERROR）
LOG_LEVEL=INFO

# CORS允许的来源（无域名场景使用*，生产环境建议指定具体IP或域名）
# 多个来源用逗号分隔，例如: http://192.168.1.100,http://example.com
CORS_ORIGINS=*

# 应用版本
APP_VERSION=1.0.0

# ============================================
# Gunicorn配置（后端）
# ============================================
# Worker进程数（推荐: (2 * CPU核心数) + 1）
# 轻量级服务器建议使用2
GUNICORN_WORKERS=2

# 每个Worker的线程数
GUNICORN_THREADS=2

# ============================================
# 资源限制（根据服务器配置调整）
# ============================================
# 后端CPU限制（例如: 1.0 表示1个CPU核心）
BACKEND_CPU_LIMIT=1.0

# 后端内存限制
BACKEND_MEMORY_LIMIT=512M

# 后端CPU保留（最低保证）
BACKEND_CPU_RESERVATION=0.5

# 后端内存保留
BACKEND_MEMORY_RESERVATION=256M

# 前端CPU限制
FRONTEND_CPU_LIMIT=0.5

# 前端内存限制
FRONTEND_MEMORY_LIMIT=256M

# 前端CPU保留
FRONTEND_CPU_RESERVATION=0.25

# 前端内存保留
FRONTEND_MEMORY_RESERVATION=128M

# ============================================
# 域名配置（可选，无域名可忽略）
# ============================================
# 如果使用域名，请配置以下项
# DOMAIN=your-domain.com

# ============================================
# 注意事项
# ============================================
# 1. 端口80和443需要root权限，如果使用非root用户，建议使用8080、8443等端口
# 2. CORS_ORIGINS在生产环境建议设置为具体IP或域名，不要使用*
# 3. 资源限制应根据实际服务器配置调整
# 4. 如果服务器内存小于2GB，建议降低内存限制
