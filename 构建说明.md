# Docker 构建问题排查

## 如果构建卡住，可以尝试以下方法：

### 方法一：查看构建日志

在另一个终端窗口运行：
```powershell
docker compose logs -f
```

### 方法二：分步构建

1. **先单独构建后端：**
```powershell
cd backend
docker build -t query-generator-backend .
```

2. **再单独构建前端（可以看到详细输出）：**
```powershell
cd frontend
docker build -t query-generator-frontend . --progress=plain
```

3. **然后启动：**
```powershell
cd ..
docker compose up -d
```

### 方法三：本地构建前端，然后复制到 Docker

1. **本地构建前端：**
```powershell
cd frontend
npm install --registry=https://registry.npmmirror.com
npm run build
```

2. **修改 Dockerfile，直接使用构建好的文件：**
创建一个简化的 Dockerfile（只复制 dist 目录）

### 方法四：增加 Docker 资源

如果构建卡住可能是因为内存不足：
- Docker Desktop → Settings → Resources
- 增加 Memory 到至少 4GB
- 增加 CPU 核心数

### 方法五：使用本地开发（推荐）

如果 Docker 构建一直有问题，建议使用本地开发方式：
- 查看 `本地开发指南.md`

